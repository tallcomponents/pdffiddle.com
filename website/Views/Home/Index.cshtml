@{
    ViewBag.Title = "Home Page";
}

<div class="row">
    <!--
    <div class="col-md-4">
        <h2>Resources</h2>
    </div>
    -->
    <div class="col-md-4">
        <h2>Content</h2>

        <textarea class="content" rows="20" cols="50"></textarea>
        <hr />
        <button class="btn btn-primary btn-sm show">Show</button>
    </div>
    <div class="col-md-8">
        <h2>Page</h2>
        <div class="pdf">
        </div>
    </div>
</div>

@section scripts {
    <script>
        $("button.show").click(function () {
            var content = $("textarea.content").val();
            if (content.length > 0) {
                $.post(
                    "@Url.Action("CreatePdf")",
                    { content: content })
                    .done(function (guid) {
                        $("div.pdf").html("<embed src=\"/temp/" + guid + ".pdf#zoom=200\" width=\"100%\" height=\"600\" type='application/pdf'>");
                    })
                    .fail(function () {
                        alert("create pdf failed");
                    });
            }
        });
    </script>
}